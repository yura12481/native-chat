import React, { useState, useCallback, useEffect } from 'react';
import { GiftedChat, IMessage } from 'react-native-gifted-chat';

const Chat = () => {
  const [messages, setMessages] = useState<IMessage[]>([]);

  useEffect(() => {
    setMessages([
      {
        _id: 1,
        text: 'Hello developer',
        createdAt: new Date(),
        user: {
          _id: 2,
          name: 'React Native',
          avatar:
            'data:image/jpeg;base64,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',
        },
      },
    ]);
  }, []);

  const onSend = useCallback((newMessages: IMessage[] = []) => {
    setMessages((previousMessages) =>
      GiftedChat.append(previousMessages, newMessages)
    );
  }, []);

  return (
    <GiftedChat
      messages={messages}
      onSend={(newMessages) => onSend(newMessages)}
      user={{
        _id: 1,
      }}
    />
  );
};

export default Chat;
